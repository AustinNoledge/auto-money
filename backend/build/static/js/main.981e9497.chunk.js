(this.webpackJsonpautomonkey=this.webpackJsonpautomonkey||[]).push([[0],{158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var c=n(73),r=n.n(c),a=n(3),i=n(6),o=n(74),s=n(5),l=n.n(s),u="https://financialmodelingprep.com",h="435994ab89b96b3e3bfbf6d848d2bc06",j={getSectorsPerformance:function(){return l.a.get("".concat(u,"/api/v3/sectors-performance?apikey=").concat(h)).then((function(e){return e.data}))},getETFHoldings:function(e){return l.a.get("".concat(u,"/api/v3/etf-holder/").concat(e,"?apikey=").concat(h)).then((function(e){return e.data.map((function(e){return e.asset}))}))},getETFHolders:function(e){return l.a.get("".concat(u,"/api/v3/mutual-fund-holder/").concat(e,"?apikey=").concat(h)).then((function(e){return e.data.map((function(e){return{holder:e.holder,change:e.change}}))}))},getQuote:function(e){return l.a.get("".concat(u,"/api/v3/quote/").concat(e,"?apikey=").concat(h)).then((function(e){var t=e.data[0];t.name,t.changesPercentage,t.priveAvg50,t.priceAvg200,t.exchange,t.earningsAnnouncement,t.timestamp;return Object(o.a)(t,["name","changesPercentage","priveAvg50","priceAvg200","exchange","earningsAnnouncement","timestamp"])}))},getRatios:function(e){return l.a.get("".concat(u,"/api/v3/ratios/").concat(e,"?period=quarter&limit=1&apikey=").concat(h)).then((function(e){return e.data[0]}))},getDailyBasicIndicators:function(e){var t=[],n={},c=["rsi","adx"];return[5,10,20,60,120,200].forEach((function(r,a){0===a&&c.forEach((function(c){t.push(l.a.get("".concat(u,"/api/v3/technical_indicator/daily/").concat(e,"?period=14&type=").concat(c,"&apikey=").concat(h)).then((function(e){n["".concat(c,"14")]=e.data[0]["".concat(c)]})).catch((function(e){return console.log("fail with rsi and adx with error",e.message)})))})),t.push(l.a.get("".concat(u,"/api/v3/technical_indicator/daily/").concat(e,"?period=").concat(r,"&type=ema&apikey=").concat(h)).then((function(e){0===a&&(n.price=e.data[0].close),n["ema".concat(r)]=e.data[0].ema})).catch((function(e){return console.log("fail with ema with error",e.message)})))})),Promise.all(t).then((function(){var e=n,t=e.price,c=e.ema5,r=e.ema10,a=e.ema20,i=e.ema60,o=e.ema120,s=e.ema200,l=e.rsi14,u=e.adx14;return n={price:t,ema5:c,ema10:r,ema20:a,ema60:i,ema120:o,ema200:s,rsi14:l,adx14:u}}))}},d=(n(20),n(0)),b=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([""]),o=Object(i.a)(r,2),s=o[0],l=o[1],u=Object(a.useState)("ets"),h=Object(i.a)(u,2),b=h[0],f=h[1],g=function(e,t){var n=s.map((function(n,c){return c===t?e.target.value.toUpperCase():n}));l(n)};return Object(d.jsxs)("div",{className:"overlap-holdings",children:[Object(d.jsx)("h1",{children:"Overlap Holdings"}),Object(d.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=[],n=[];s.forEach((function(e){"ets"===b?t.push(j.getETFHoldings(e).then((function(e){n.push(e)}))):t.push(j.getETFHolders(s).then((function(e){n.push(e)})))})),Promise.all(t).then((function(){c(n.reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))})))}))}(e)},children:s.map((function(e,t){return t===s.length-1?Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{size:12,value:e,onChange:function(e){return g(e,t)},required:!0}),Object(d.jsx)("button",{onClick:function(){s.length>1&&l(s.filter((function(e,t){return t!==s.length-1})))},children:"-"}),Object(d.jsx)("button",{onClick:function(){s.length<4&&l(s.concat(""))},children:"+"}),Object(d.jsxs)("select",{onChange:function(e){return f(e.target.value)},children:[Object(d.jsx)("option",{value:"ets",selected:"ets"===b,children:"\u6b63\u5411\u67e5\u8be2\u6301\u4ed3"}),Object(d.jsx)("option",{value:"ste",selected:"ste"===b,children:"\u9006\u5411\u67e5\u8be2\u673a\u6784"})]}),Object(d.jsx)("button",{type:"submit",children:"Query"}),Object(d.jsx)("br",{})]},t):Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{size:12,value:e,onChange:function(e){return g(e,t)},required:!0}),Object(d.jsx)("br",{})]},t)}))}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsxs)("th",{children:["Total ",n.length," results"]})})}),Object(d.jsx)("tbody",{style:{display:"block",height:"30vh",width:"22vw",overflowY:"scroll"},children:n.map((function(e,t){return"ets"===b?Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:e})},t):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.holder}),Object(d.jsx)("td",{style:{textAlign:"right",width:"100%"},children:e.change})]},t)}))})]})]})},f=function(){var e=Object(a.useState)([{pass:"pass"}]),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),s=o[0],l=o[1],u=Object(a.useState)(0),h=Object(i.a)(u,2),b=h[0],f=h[1];return Object(d.jsxs)("div",{className:"stock-details",children:[Object(d.jsx)("h1",{children:"Stock Details"}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=[],n=[];[j.getQuote,j.getRatios,j.getDailyBasicIndicators].forEach((function(e){t.push(e(s).then((function(e){n.push(e)})))})),Promise.all(t).then((function(){c(n)}))}(e)},children:[Object(d.jsx)("input",{size:30,value:s,onChange:function(e){return l(e.target.value.toUpperCase())}}),Object(d.jsx)("button",{type:"submit",children:"Query"})]}),Object(d.jsxs)("table",{children:[Object(d.jsxs)("select",{onChange:function(e){return f(e.target.value)},children:[Object(d.jsx)("option",{value:0,selected:!0,children:"General Info"}),Object(d.jsx)("option",{value:1,children:"Financial Ratios"}),Object(d.jsx)("option",{value:2,children:"Technical Indicators"}),Object(d.jsx)("option",{value:3,disabled:!0,children:"Patterns Recognition\u672a\u5b8c\u6210"})]}),Object(d.jsx)("tbody",{style:{tableLayout:"fixed",display:"block",height:"35vh",width:"30vw",overflowY:"scroll"},children:Object.keys(n[1!==n.length?b:0]).map((function(e){if("pass"!==e)return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e}),Object(d.jsx)("td",{style:{textAlign:"right",width:"100%"},className:/^ema/.test(e)?n[1!==n.length?b:0][e]>n[1!==n.length?b:0].price?"green":"red":"",children:(t=n[1!==n.length?b:0][e],"number"===typeof t?Math.round(1e4*t)/1e4:t)})]},e);var t}))})]})]})},g=function(){return Object(d.jsxs)("div",{className:"portfolio",children:[Object(d.jsx)("h1",{children:"Portfolio"}),Object(d.jsx)("h1",{children:"\u6b63\u5728\u65bd\u5de5"})]})},p=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){console.log("1 time"),j.getSectorsPerformance().then((function(e){c(e)}))}),[]),Object(d.jsxs)("div",{className:"sector-performance",children:[Object(d.jsx)("h1",{children:"Sectors Performance"}),Object(d.jsx)("table",{children:Object(d.jsx)("tbody",{style:{display:"block",height:"85vh",overflowY:"scroll"},children:n.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"-"===e.changesPercentage[0]?"red":"green",children:e.sector}),Object(d.jsx)("td",{style:{textAlign:"right"},className:"-"===e.changesPercentage[0]?"red":"green",children:e.changesPercentage})]},t)}))})})]})},O=function(){return Object(d.jsxs)("div",{className:"grid-container",children:[Object(d.jsx)(p,{}),Object(d.jsx)(b,{}),Object(d.jsx)(f,{}),Object(d.jsx)(g,{})]})};n(158);r.a.render(Object(d.jsx)(O,{}),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.981e9497.chunk.js.map