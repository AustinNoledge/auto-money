(this.webpackJsonpautomonkey=this.webpackJsonpautomonkey||[]).push([[0],{158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var c=n(73),r=n.n(c),i=n(3),a=n(5),s=n(74),o=n(6),l=n.n(o),u="https://financialmodelingprep.com",j="435994ab89b96b3e3bfbf6d848d2bc06",h={getSectorsPerformance:function(){return l.a.get("".concat(u,"/api/v3/sectors-performance?apikey=").concat(j)).then((function(e){return e.data}))},getETFHoldings:function(e){return l.a.get("".concat(u,"/api/v3/etf-holder/").concat(e,"?apikey=").concat(j)).then((function(e){return e.data.map((function(e){return e.asset}))}))},getETFHolders:function(e){return l.a.get("".concat(u,"/api/v3/mutual-fund-holder/").concat(e,"?apikey=").concat(j)).then((function(e){return e.data.map((function(e){return{holder:e.holder,change:e.change}}))}))},getQuote:function(e){return l.a.get("".concat(u,"/api/v3/quote/").concat(e,"?apikey=").concat(j)).then((function(e){var t=e.data[0];t.name,t.changesPercentage,t.priveAvg50,t.priceAvg200,t.exchange,t.earningsAnnouncement,t.timestamp;return Object(s.a)(t,["name","changesPercentage","priveAvg50","priceAvg200","exchange","earningsAnnouncement","timestamp"])}))},getRatios:function(e){return l.a.get("".concat(u,"/api/v3/ratios/").concat(e,"?period=quarter&limit=1&apikey=").concat(j)).then((function(e){return Object.keys(e.data[0]).forEach((function(t){var n=e.data[0][t];"number"===typeof n&&(e.data[0][t]=Math.round(1e4*n)/1e4)})),e.data[0]}))}},d=(n(20),n(0)),b=function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)([""]),s=Object(a.a)(r,2),o=s[0],l=s[1],u=Object(i.useState)("ets"),j=Object(a.a)(u,2),b=j[0],f=j[1],O=function(e,t){var n=o.map((function(n,c){return c===t?e.target.value.toUpperCase():n}));l(n)};return Object(d.jsxs)("div",{className:"overlap-holdings",children:[Object(d.jsx)("h1",{children:"Overlap Holdings"}),Object(d.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=[],n=[];o.forEach((function(e){"ets"===b?t.push(h.getETFHoldings(e).then((function(e){n.push(e)}))):t.push(h.getETFHolders(o).then((function(e){n.push(e)})))})),Promise.all(t).then((function(){c(n.reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))})))}))}(e)},children:o.map((function(e,t){return t===o.length-1?Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{size:12,value:e,onChange:function(e){return O(e,t)},required:!0}),Object(d.jsx)("button",{onClick:function(){o.length>1&&l(o.filter((function(e,t){return t!==o.length-1})))},children:"-"}),Object(d.jsx)("button",{onClick:function(){o.length<4&&l(o.concat(""))},children:"+"}),Object(d.jsxs)("select",{onChange:function(e){return f(e.target.value)},children:[Object(d.jsx)("option",{value:"ets",selected:"ets"===b,children:"\u6b63\u5411\u67e5\u8be2\u6301\u4ed3"}),Object(d.jsx)("option",{value:"ste",selected:"ste"===b,children:"\u9006\u5411\u67e5\u8be2\u673a\u6784"})]}),Object(d.jsx)("button",{type:"submit",children:"Query"}),Object(d.jsx)("br",{})]},t):Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{size:12,value:e,onChange:function(e){return O(e,t)},required:!0}),Object(d.jsx)("br",{})]},t)}))}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsxs)("th",{children:["Total ",n.length," results"]})})}),Object(d.jsx)("tbody",{style:{display:"block",height:"30vh",width:"22vw",overflowY:"scroll"},children:n.map((function(e,t){return"ets"===b?Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:e})},t):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.holder}),Object(d.jsx)("td",{style:{textAlign:"right",width:"100%"},children:e.change})]},t)}))})]})]})},f=function(){var e=Object(i.useState)([{pass:"pass"}]),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(""),s=Object(a.a)(r,2),o=s[0],l=s[1],u=Object(i.useState)(0),j=Object(a.a)(u,2),b=j[0],f=j[1];return Object(d.jsxs)("div",{className:"stock-details",children:[Object(d.jsx)("h1",{children:"Stock Details"}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=[],n=[];[h.getQuote,h.getRatios].forEach((function(e){t.push(e(o).then((function(e){n.push(e)})))})),Promise.all(t).then((function(){console.log(n),c(n)}))}(e)},children:[Object(d.jsx)("input",{size:30,value:o,onChange:function(e){return l(e.target.value.toUpperCase())}}),Object(d.jsx)("button",{type:"submit",children:"Query"})]}),Object(d.jsxs)("table",{children:[Object(d.jsxs)("select",{onChange:function(e){return f(e.target.value)},children:[Object(d.jsx)("option",{value:0,selected:!0,children:"General Info"}),Object(d.jsx)("option",{value:1,children:"Financial Ratios"}),Object(d.jsx)("option",{value:2,children:"Technical Indicators\u672a\u5b8c\u6210"}),Object(d.jsx)("option",{value:3,children:"Patterns Recognition\u672a\u5b8c\u6210"})]}),Object(d.jsx)("tbody",{style:{tableLayout:"fixed",display:"block",height:"35vh",width:"30vw",overflowY:"scroll"},children:Object.keys(n[b]).map((function(e){if("pass"!==e)return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e}),Object(d.jsx)("td",{style:{textAlign:"right",width:"100%"},children:n[b][e]})]},e)}))})]})]})},O=function(){return Object(d.jsxs)("div",{className:"portfolio",children:[Object(d.jsx)("h1",{children:"Portfolio"}),Object(d.jsx)("h1",{children:"\u6b63\u5728\u65bd\u5de5"})]})},g=function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){console.log("1 time"),h.getSectorsPerformance().then((function(e){c(e)}))}),[]),Object(d.jsxs)("div",{className:"sector-performance",children:[Object(d.jsx)("h1",{children:"Sectors Performance"}),Object(d.jsx)("table",{children:Object(d.jsx)("tbody",{style:{display:"block",height:"100vh",overflowY:"scroll"},children:n.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"-"===e.changesPercentage[0]?"red":"green",children:e.sector}),Object(d.jsx)("td",{style:{textAlign:"right"},className:"-"===e.changesPercentage[0]?"red":"green",children:e.changesPercentage})]},t)}))})})]})},p=function(){return Object(d.jsxs)("div",{className:"grid-container",children:[Object(d.jsx)(g,{}),Object(d.jsx)(b,{}),Object(d.jsx)(f,{}),Object(d.jsx)(O,{})]})};n(158);r.a.render(Object(d.jsx)(p,{}),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.f9184e5c.chunk.js.map