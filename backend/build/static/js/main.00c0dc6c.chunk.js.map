{"version":3,"sources":["services/financialModelingPrepAPI.js","components/overlap-holdings/OverlapHoldings.js","services/watchResult.js","components/stock-details/StockDetails.js","components/portfolio/Portfolio.js","components/sector-performance/SectorPerformance.js","App.js","index.js"],"names":["baseUrl","apikey","process","axios","get","then","response","data","fund","map","each","asset","symbol","holder","change","OverlapHoldings","useState","overlapResult","setOverlapResult","inputFields","setInputFields","queryMode","setQueryMode","changeInputFields","event","index","changedInput","eachIndex","target","value","toUpperCase","className","onSubmit","preventDefault","promises","results","forEach","push","financialService","Promise","all","reduce","first","second","filter","indexOf","changeOverlapResult","length","size","onChange","required","onClick","concat","selected","type","style","display","height","width","overflowY","StockDetails","setWatchResult","queryStock","setQueryStock","useEffect","watchResultService","console","log","Portfolio","SectorPerformance","sectors","setSectors","sector","textAlign","changesPercentage","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.00c0dc6c.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'https://financialmodelingprep.com'\r\nconst apikey  = process.env.REACT_APP_FINANCIALKEY\r\n\r\nconst getSectorsPerformance = () => {\r\n    return axios.get(`${baseUrl}/api/v3/sectors-performance?apikey=${apikey}`)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst getETFHoldings = (fund) => {\r\n    return axios.get(`${baseUrl}/api/v3/etf-holder/${fund}?apikey=${apikey}`)\r\n        .then(response => response.data.map(each => each.asset))\r\n}\r\n\r\nconst getETFHolders = (symbol) => {\r\n    return axios.get(`${baseUrl}/api/v3/mutual-fund-holder/${symbol}?apikey=${apikey}`)\r\n        .then(response => response.data.map(each => {\r\n            return ({holder: each.holder, change:each.change})\r\n        }))\r\n}\r\n\r\nexport default {\r\n    getSectorsPerformance,\r\n    getETFHoldings, getETFHolders\r\n}","import React, { useState } from 'react'\r\nimport financialService from '../../services/financialModelingPrepAPI'\r\nimport swingTradeBotScraper from '../../services/swingTradeBotScraper'\r\n\r\nconst OverlapHoldings = () => {\r\n    const [ overlapResult, setOverlapResult ] = useState([])\r\n    const [ inputFields, setInputFields ] = useState([''])\r\n    const [ queryMode, setQueryMode ] = useState('ets')\r\n\r\n    const changeInputFields = (event, index) => {\r\n        const changedInput = inputFields.map((each, eachIndex) =>\r\n            (eachIndex === index)\r\n                ? event.target.value.toUpperCase()\r\n                : each\r\n        )\r\n        setInputFields(changedInput)\r\n    }\r\n\r\n    const changeOverlapResult = (event) => {\r\n        event.preventDefault()\r\n        const promises = []\r\n        const results  = []\r\n        inputFields.forEach(each => {\r\n            if (queryMode === 'ets') {\r\n                promises.push(\r\n                    financialService\r\n                        .getETFHoldings(each)\r\n                        .then(response => {\r\n                            results.push(response)\r\n                        })\r\n                )\r\n            } else {\r\n                promises.push(\r\n                    financialService\r\n                        .getETFHolders(inputFields)\r\n                        .then(response => {\r\n                            results.push(response)\r\n                        })\r\n                )\r\n            }\r\n            \r\n        })\r\n        Promise.all(promises)\r\n            .then(() => {\r\n                setOverlapResult(results.reduce((first, second) => {\r\n                    return first.filter(each => second.indexOf(each) > -1)\r\n                }))\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className='overlap-holdings'>\r\n            <h1>Overlap Holdings</h1>\r\n\r\n            <form onSubmit={event => changeOverlapResult(event)}>\r\n                {inputFields.map((each, index) => {\r\n                    if (index === inputFields.length-1) {\r\n                        return  (\r\n                            <div key={index}>\r\n                                <input size={12} value={each} onChange={event => changeInputFields(event, index)} required />\r\n                                <button onClick={() => {\r\n                                    if (inputFields.length > 1) {\r\n                                        setInputFields(inputFields.filter((each, index) => index!==inputFields.length-1))\r\n                                    }\r\n                                }}>-</button>\r\n                                <button onClick={() => {\r\n                                    if (inputFields.length < 4) {\r\n                                        setInputFields(inputFields.concat(''))\r\n                                    }\r\n                                }}>+</button>\r\n                                <select onChange={event => setQueryMode(event.target.value)}>\r\n                                    <option value='ets' selected>正向查询持仓</option>\r\n                                    <option value='ste'>逆向查询机构</option>\r\n                                </select>\r\n                                <button type='submit'>Query</button>\r\n                                <br></br>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    return (\r\n                        <div key={index}>\r\n                            <input size={12} value={each} onChange={event => changeInputFields(event, index)} required />\r\n                            <br></br>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </form>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>\r\n                            Total {overlapResult.length} results\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{display:'block', height:'30vh', width:'30vw', overflowY:'scroll'}}>\r\n                    {overlapResult.map(each => {\r\n                        if (queryMode === 'ets') {\r\n                            return (\r\n                                <tr>\r\n                                    <td>{each}</td>\r\n                                </tr>\r\n                            )\r\n                        } else {\r\n                            return (\r\n                                <tr>\r\n                                    <td>{each.holder}</td>\r\n                                    <td>{each.change}</td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n                        \r\n                    })}\r\n                </tbody>\r\n            </table>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OverlapHoldings","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/watchResult'\r\n\r\nconst getOne = () => {\r\n    return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst update = (changedWatchResult) => {\r\n    return axios.put(baseUrl, changedWatchResult).then(response => response.data)\r\n}\r\n\r\nexport default { getOne, update }","import React, { useState, useEffect } from 'react'\r\nimport OneLineStock from '../overlap-holdings/OneLineStock'\r\nimport Fundamental from './Fundamental'\r\nimport Technical from './Technical'\r\nimport watchResultService from '../../services/watchResult'\r\n\r\nconst StockDetails = () => {\r\n    const [ watchResult, setWatchResult ] = useState([])\r\n    const [ queryStock, setQueryStock ] = useState('')\r\n\r\n    useEffect(() => {\r\n        watchResultService\r\n            .getOne()\r\n            .then(response => {\r\n                setWatchResult(response)\r\n            })\r\n    }, [])\r\n\r\n    const addWatchingStock = () => {\r\n        console.log(queryStock);\r\n    }\r\n\r\n    return (\r\n        <div className=\"stock-details\">\r\n            <h1>Stock Details</h1>\r\n            <form onSubmit={addWatchingStock}>\r\n                <input size={10} value={queryStock} onChange={event => setQueryStock(event.target.value.toUpperCase())} />\r\n                <button type='submit'>Query</button>\r\n            </form>\r\n            <table>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>施工</th>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StockDetails","import React from 'react'\r\n\r\nconst Portfolio = () => {\r\n\r\n\r\n\r\n    return (\r\n        <div className='portfolio'>\r\n            <h1>Portfolio</h1>\r\n            <h4>施工</h4>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Portfolio","import React, { useState, useEffect } from 'react'\r\nimport financialService from '../../services/financialModelingPrepAPI'\r\n\r\nconst SectorPerformance = () => {\r\n    const [ sectors, setSectors ] = useState([])\r\n\r\n    useEffect(() => {\r\n        console.log('1 time');\r\n        financialService\r\n            .getSectorsPerformance()\r\n            .then(response => {\r\n                setSectors(response)\r\n            })\r\n    }, [])\r\n    \r\n\r\n    return (\r\n        <div className='sector-performance'>\r\n            <h1>Sectors Performance</h1>\r\n            <table>\r\n                <tbody style={{display:'block', height:'100vh', overflowY:'scroll'}}>\r\n                    {sectors.map((each, index) => {\r\n                        return (\r\n                            <tr key={index}>\r\n                                <td>{each.sector}</td>\r\n                                <td style={{textAlign:'right'}}>{each.changesPercentage}</td>\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SectorPerformance","import React from 'react'\nimport OverlapHoldings from './components/overlap-holdings/OverlapHoldings'\nimport StockDetails from './components/stock-details/StockDetails'\nimport Portfolio from './components/portfolio/Portfolio'\nimport SectorPerformance from './components/sector-performance/SectorPerformance'\n\nconst App = () => {\n\n  return (\n    <div className='grid-container'>\n      <SectorPerformance />\n      <OverlapHoldings />\n      <StockDetails />\n      <Portfolio />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}