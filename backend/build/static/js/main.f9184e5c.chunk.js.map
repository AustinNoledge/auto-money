{"version":3,"sources":["services/financialModelingPrepAPI.js","components/overlap-holdings/OverlapHoldings.js","components/stock-details/StockDetails.js","components/portfolio/Portfolio.js","components/sector-performance/SectorPerformance.js","App.js","index.js"],"names":["baseUrl","apikey","process","getSectorsPerformance","axios","get","then","response","data","getETFHoldings","fund","map","each","asset","getETFHolders","symbol","holder","change","getQuote","name","changesPercentage","priveAvg50","priceAvg200","exchange","earningsAnnouncement","timestamp","getRatios","Object","keys","forEach","Math","round","OverlapHoldings","useState","overlapResult","setOverlapResult","inputFields","setInputFields","queryMode","setQueryMode","changeInputFields","event","index","changedInput","eachIndex","target","value","toUpperCase","className","onSubmit","preventDefault","promises","results","push","financialService","Promise","all","reduce","first","second","filter","indexOf","changeOverlapResult","length","size","onChange","required","onClick","concat","selected","type","style","display","height","width","overflowY","textAlign","StockDetails","watchResult","setWatchResult","queryStock","setQueryStock","watchMode","setWatchMode","method","console","log","changeWatchResult","tableLayout","eachKey","Portfolio","SectorPerformance","sectors","setSectors","useEffect","sector","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f9184e5c.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'https://financialmodelingprep.com'\r\nconst apikey  = process.env.REACT_APP_FINANCIALKEY\r\n\r\nconst getSectorsPerformance = () => {\r\n    return axios.get(`${baseUrl}/api/v3/sectors-performance?apikey=${apikey}`)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst getETFHoldings = (fund) => {\r\n    return axios.get(`${baseUrl}/api/v3/etf-holder/${fund}?apikey=${apikey}`)\r\n        .then(response => response.data.map(each => each.asset))\r\n}\r\n\r\nconst getETFHolders = (symbol) => {\r\n    return axios.get(`${baseUrl}/api/v3/mutual-fund-holder/${symbol}?apikey=${apikey}`)\r\n        .then(response => response.data.map(each => {\r\n            return ({holder: each.holder, change:each.change})\r\n        }))\r\n}\r\n\r\nconst getQuote = (symbol) => {\r\n    return axios.get(`${baseUrl}/api/v3/quote/${symbol}?apikey=${apikey}`)\r\n        .then(response => {\r\n            const {name, changesPercentage, priveAvg50, priceAvg200, \r\n                exchange, earningsAnnouncement, timestamp, ...data} = response.data[0]\r\n            return data\r\n        })\r\n}\r\n\r\nconst getRatios = (symbol) => {\r\n                      \r\n    return axios.get(`${baseUrl}/api/v3/ratios/${symbol}?period=quarter&limit=1&apikey=${apikey}`)\r\n        .then(response => {\r\n            Object.keys(response.data[0]).forEach(each => {\r\n                let data = response.data[0][each]\r\n                if ((typeof data) === 'number') {\r\n                    response.data[0][each] = Math.round(data*10000)/10000\r\n                }\r\n            })\r\n            return response.data[0]\r\n        })\r\n}\r\n\r\nexport default {\r\n    getSectorsPerformance,\r\n    getETFHoldings, getETFHolders,\r\n    getQuote, getRatios\r\n}","import React, { useState } from 'react'\r\nimport financialService from '../../services/financialModelingPrepAPI'\r\nimport swingTradeBotScraper from '../../services/swingTradeBotScraper'\r\n\r\nconst OverlapHoldings = () => {\r\n    const [ overlapResult, setOverlapResult ] = useState([])\r\n    const [ inputFields, setInputFields ] = useState([''])\r\n    const [ queryMode, setQueryMode ] = useState('ets')\r\n\r\n    const changeInputFields = (event, index) => {\r\n        const changedInput = inputFields.map((each, eachIndex) =>\r\n            (eachIndex === index)\r\n                ? event.target.value.toUpperCase()\r\n                : each\r\n        )\r\n        setInputFields(changedInput)\r\n    }\r\n\r\n    const changeOverlapResult = (event) => {\r\n        event.preventDefault()\r\n        const promises = []\r\n        const results  = []\r\n        inputFields.forEach(each => {\r\n            if (queryMode === 'ets') {\r\n                promises.push(\r\n                    financialService\r\n                        .getETFHoldings(each)\r\n                        .then(response => {\r\n                            results.push(response)\r\n                        })\r\n                )\r\n            } else {\r\n                promises.push(\r\n                    financialService\r\n                        .getETFHolders(inputFields)\r\n                        .then(response => {\r\n                            results.push(response)\r\n                        })\r\n                )\r\n            }\r\n            \r\n        })\r\n        Promise.all(promises)\r\n            .then(() => {\r\n                setOverlapResult(results.reduce((first, second) => {\r\n                    return first.filter(each => second.indexOf(each) > -1)\r\n                }))\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className='overlap-holdings'>\r\n            <h1>Overlap Holdings</h1>\r\n\r\n            <form onSubmit={event => changeOverlapResult(event)}>\r\n                {inputFields.map((each, index) => {\r\n                    if (index === inputFields.length-1) {\r\n                        return  (\r\n                            <div key={index}>\r\n                                <input size={12} value={each} onChange={event => changeInputFields(event, index)} required />\r\n                                <button onClick={() => {\r\n                                    if (inputFields.length > 1) {\r\n                                        setInputFields(inputFields.filter((each, index) => index!==inputFields.length-1))\r\n                                    }\r\n                                }}>-</button>\r\n                                <button onClick={() => {\r\n                                    if (inputFields.length < 4) {\r\n                                        setInputFields(inputFields.concat(''))\r\n                                    }\r\n                                }}>+</button>\r\n                                <select onChange={event => setQueryMode(event.target.value)}>\r\n                                    <option value='ets' selected={queryMode==='ets'}>正向查询持仓</option>\r\n                                    <option value='ste' selected={queryMode==='ste'}>逆向查询机构</option>\r\n                                </select>\r\n                                <button type='submit'>Query</button>\r\n                                <br></br>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    return (\r\n                        <div key={index}>\r\n                            <input size={12} value={each} onChange={event => changeInputFields(event, index)} required />\r\n                            <br></br>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </form>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>\r\n                            Total {overlapResult.length} results\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{display:'block', height:'30vh', width:'22vw', overflowY:'scroll'}}>\r\n                    {overlapResult.map((each, index) => {\r\n                        if (queryMode === 'ets') {\r\n                            return (\r\n                                <tr key={index}>\r\n                                    <td>{each}</td>\r\n                                </tr>\r\n                            )\r\n                        } else {\r\n                            return (\r\n                                <tr key={index}>\r\n                                    <td>{each.holder}</td>\r\n                                    <td style={{textAlign: 'right', width: '100%'}}>{each.change}</td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n                        \r\n                    })}\r\n                </tbody>\r\n            </table>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OverlapHoldings","import React, { useState } from 'react'\r\nimport financialService from '../../services/financialModelingPrepAPI'\r\n\r\nconst StockDetails = () => {\r\n    const [ watchResult, setWatchResult ] = useState([{'pass': 'pass'}])\r\n    const [ queryStock, setQueryStock ] = useState('')\r\n    const [ watchMode, setWatchMode ] = useState(0)\r\n\r\n    const changeWatchResult = (event) => {\r\n        event.preventDefault()\r\n        const methods = [financialService.getQuote, financialService.getRatios]\r\n        const promises= []\r\n        const results = []\r\n        methods.forEach(method => {\r\n            promises.push(\r\n                method(queryStock)\r\n                    .then(response => {\r\n                        results.push(response)\r\n                    })\r\n            )\r\n        })\r\n        Promise.all(promises).then(() => {\r\n            console.log(results);\r\n            setWatchResult(results)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"stock-details\">\r\n            <h1>Stock Details</h1>\r\n            <form onSubmit={event => changeWatchResult(event)}>\r\n                <input size={30} value={queryStock} onChange={event => setQueryStock(event.target.value.toUpperCase())} />\r\n                <button type='submit'>Query</button>\r\n            </form>\r\n\r\n            <table>\r\n                <select onChange={event => setWatchMode(event.target.value)}>\r\n                    <option value={0} selected>General Info</option>\r\n                    <option value={1}>Financial Ratios</option>\r\n                    <option value={2}>Technical Indicators未完成</option>\r\n                    <option value={3}>Patterns Recognition未完成</option>\r\n                </select>\r\n                <tbody style={{tableLayout:'fixed', display:'block', height:'35vh', width:'30vw', overflowY:'scroll'}}>\r\n                    {Object.keys(watchResult[watchMode]).map(eachKey => {\r\n                        if (eachKey !== 'pass') {\r\n                            return (\r\n                                <tr key={eachKey}>\r\n                                    <td>{eachKey}</td>\r\n                                    <td style={{textAlign: 'right', width: '100%'}}>{watchResult[watchMode][eachKey]}</td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StockDetails","import React from 'react'\r\n\r\nconst Portfolio = () => {\r\n\r\n\r\n\r\n    return (\r\n        <div className='portfolio'>\r\n            <h1>Portfolio</h1>\r\n            <h1>正在施工</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Portfolio","import React, { useState, useEffect } from 'react'\r\nimport financialService from '../../services/financialModelingPrepAPI'\r\n\r\nconst SectorPerformance = () => {\r\n    const [ sectors, setSectors ] = useState([])\r\n\r\n    useEffect(() => {\r\n        console.log('1 time');\r\n        financialService\r\n            .getSectorsPerformance()\r\n            .then(response => {\r\n                setSectors(response)\r\n            })\r\n    }, [])\r\n    \r\n\r\n    return (\r\n        <div className='sector-performance'>\r\n            <h1>Sectors Performance</h1>\r\n            <table>\r\n                <tbody style={{display:'block', height:'100vh', overflowY:'scroll'}}>\r\n                    {sectors.map((each, index) => {\r\n                        return (\r\n                            <tr key={index}>\r\n                                <td\r\n                                className={(each.changesPercentage[0]==='-')?'red':'green'}>{each.sector}</td>\r\n                                <td style={{textAlign:'right'}}\r\n                                className={(each.changesPercentage[0]==='-')?'red':'green'}>{each.changesPercentage}</td>\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SectorPerformance","import React from 'react'\nimport OverlapHoldings from './components/overlap-holdings/OverlapHoldings'\nimport StockDetails from './components/stock-details/StockDetails'\nimport Portfolio from './components/portfolio/Portfolio'\nimport SectorPerformance from './components/sector-performance/SectorPerformance'\n\nconst App = () => {\n\n  return (\n    <div className='grid-container'>\n      <SectorPerformance />\n      <OverlapHoldings />\n      <StockDetails />\n      <Portfolio />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}